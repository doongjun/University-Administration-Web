<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.metanet.university.mapper.ProfessorStudentMapper">

	<select id="getAllStudent" parameterType="int"	resultType="kr.co.metanet.university.domain.MemberStudent">
		SELECT m.ID, m.NAME, mr.ROLE_NAME, m.code, m.PASSWORD, d.DEPARTMENT_NAME, s.GRADE, s.BIRTHDAY, s.ACADEMIC_STATUS, s.ADMISSION_DATE, s.EMAIL, s.PHONE
		FROM student s, department d, member m, student_lecture sl, member_role mr
		WHERE s.id = sl.student_id AND sl.lecture_id = #{lecture_id}
		AND m.id = s.id AND d.department_code = s.department_code
		AND mr.member_id = m.id
	</select>

</mapper>